<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ | Ø£Ø±Ø³Ù†Ø§Ù„ Ã— Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --accent: #e11d48;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --ok: #10b981;
      --warn: #f59e0b;
      --export: #10b981;
    }
    body {
      font-family: "Tahoma", sans-serif;
      background: linear-gradient(120deg, #0f172a, #0b1020 70%);
      color: var(--text);
      margin: 0;
      padding: 24px;
      text-align: center;
    }
    .champions-title {
      font-size: 28px;
      font-weight: bold;
      color: var(--accent);
      margin-bottom: 20px;
    }
    .teams {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 40px;
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .vs {
      color: var(--warn);
      font-size: 26px;
    }
    .meta {
      display: flex; gap: 12px; flex-wrap: wrap;
      margin: 8px 0 20px; font-size: 14px; color: var(--muted); justify-content:center;
    }
    .countdown {
      background: #121a2d; border: 1px solid #1f2937;
      padding: 14px 16px; border-radius: 12px;
      display: flex; align-items: center; justify-content: space-between;
      margin: 20px auto; max-width: 500px;
    }
    .countdown strong { color: var(--text); }
    .card {
      background: var(--card); border: 1px solid #1f2937;
      border-radius: 14px; padding: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.35);
      margin: 16px auto; max-width: 700px; text-align:right;
    }
    form { display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 10px; }
    label { font-size: 12px; color: var(--muted); margin-bottom: 6px; display: block; }
    input, select, button {
      width: 100%; padding: 10px 12px; border-radius: 10px;
      border: 1px solid #374151; background: #0b1224; color: var(--text);
    }
    button { border: none; cursor: pointer; font-weight: 700; }
    button:hover { filter: brightness(1.1); }
    .list { display: grid; gap: 10px; margin-top: 12px; }
    .item {
      display: grid; grid-template-columns: 1fr auto auto;
      gap: 10px; align-items: center;
      background: #0c1529; border: 1px solid #1f2937;
      padding: 10px 12px; border-radius: 10px;
    }
    .badge { padding: 4px 8px; border-radius: 999px; font-size: 12px; border: 1px solid #374151; }
    .prob {
      color: var(--warn);
      font-size: 14px;
      font-weight: bold;
      margin-top: 6px;
      grid-column: 1 / -1; /* ÙŠØ¬Ø¹Ù„Ù‡Ø§ ÙÙŠ Ø³Ø·Ø± Ù…Ø³ØªÙ‚Ù„ */
      text-align: center;
    }
    .score { color: var(--ok); }
    .actions { display:flex; justify-content:center; margin-top:10px; }
    #export { background: var(--export); }
    footer {
      margin-top: 22px; font-size: 12px; color: var(--muted); text-align: center;
    }
    footer span {
      display:block; margin-top:10px; font-family:'Courier New',monospace;
      font-size:16px; color:#e11d48; font-weight:bold; letter-spacing:2px;
    }
    @media (max-width: 750px) {
      form { grid-template-columns: 1fr 1fr; }
      .item { grid-template-columns: 1fr auto; }
    }
  </style>
</head>
<body>
  <!-- Ø§Ø³Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© -->
  <div class="champions-title">ğŸ† Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§</div>

  <!-- Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† -->
  <div class="teams">
    <div>Ø£Ø±Ø³Ù†Ø§Ù„</div>
    <div class="vs">VS</div>
    <div>Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®</div>
  </div>


  <div class="meta">
    <div>Ù…Ù„Ø¹Ø¨ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªØŒ Ù„Ù†Ø¯Ù†</div>
    <div>Ø§Ù„ÙŠÙˆÙ… â€” 11:00 Ù…Ø³Ø§Ø¡Ù‹ Ø¨ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ©/Ø§Ù„Ø±ÙŠØ§Ø¶</div>
  </div>

  <!-- Ø¹Ø¯Ù‘ ØªÙ†Ø§Ø²Ù„ÙŠ -->
  <div class="countdown">
    <div>
      <strong>Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</strong>
      <div id="cd-text" style="margin-top:6px;color:#9ca3af;">ÙŠØªÙ… Ø§Ù„ØªØ­Ø¶ÙŠØ±...</div>
    </div>
    <div class="badge">ğŸ“… Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</div>
  </div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆÙ‚Ø¹ -->
  <div class="card">
    <h3>Ø£Ø¶Ù ØªÙˆÙ‚Ø¹Ùƒ</h3>
    <form id="predict-form">
      <div>
        <label for="name">Ø§Ø³Ù…Ùƒ</label>
        <input id="name" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯" required />
      </div>
      <div>
        <label for="winner">Ø§Ù„ÙØ§Ø¦Ø²</label>
        <select id="winner" required>
          <option value="">Ø§Ø®ØªØ±</option>
          <option value="Ø£Ø±Ø³Ù†Ø§Ù„">Ø£Ø±Ø³Ù†Ø§Ù„</option>
          <option value="Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®">Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®</option>
          <option value="ØªØ¹Ø§Ø¯Ù„">ØªØ¹Ø§Ø¯Ù„</option>
        </select>
      </div>
      <div>
        <label>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <input id="arsenal-score" type="number" min="0" placeholder="Ø£Ù‡Ø¯Ø§Ù Ø£Ø±Ø³Ù†Ø§Ù„" required />
          <span>-</span>
          <input id="bayern-score" type="number" min="0" placeholder="Ø£Ù‡Ø¯Ø§Ù Ø¨Ø§ÙŠØ±Ù†" required />
        </div>
      </div>
      <div
      <div>
        <label for="confidence">Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø© (%)</label>
        <input id="confidence" type="number" min="1" max="100" value="60" required />
      </div>
      <button type="submit">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙˆÙ‚Ø¹</button>
          </form>
        </div>
      
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª -->
        <div class="card">
          <h3>ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</h3>
          <div id="list" class="list"></div>
          <div class="actions">
      <button id="export">ğŸ“¥ ØªØµØ¯ÙŠØ± CSV</button>
      <button id="clear">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
          </div>
        </div>
      
        <!-- Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ -->
        <footer>
          Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ¬Ù…Ø¹ ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ Ø¹Ù„Ù‰ Ù…ØªØµÙØ­Ùƒ Ø¨Ø¯ÙˆÙ† Ø­ÙØ¸ Ù…Ø±ÙƒØ²ÙŠ.<br/>
          <span>âœ¦ ØªØµÙ…ÙŠÙ… ÙˆØªØ¹Ø¯ÙŠÙ„ : NMO âœ¦</span>
        </footer>
      </body>
      
      <script>
        // Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
        (function initCountdown() {
          const cd = document.getElementById("cd-text");
          const now = new Date();
          const kickoff = new Date(now);
          kickoff.setHours(23, 0, 0, 0);
          if (kickoff.getTime() <= now.getTime()) kickoff.setDate(kickoff.getDate() + 1);
          function tick() {
      const t = kickoff.getTime() - Date.now();
      if (t <= 0) { cd.textContent = "Ø§Ù†Ø·Ù„Ù‚Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©!"; return; }
      const h = Math.floor(t / (1000*60*60));
      const m = Math.floor((t % (1000*60*60)) / (1000*60));
      const s = Math.floor((t % (1000*60)) / 1000);
      cd.textContent = `Ù…ØªØ¨Ù‚Ù: ${h} Ø³Ø§Ø¹Ø© ${m} Ø¯Ù‚ÙŠÙ‚Ø© ${s} Ø«Ø§Ù†ÙŠØ©`;
      requestAnimationFrame(tick);
          }
          tick();
        })();
      
        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª
        const form = document.getElementById("predict-form");
        const list = document.getElementById("list");
        const clearBtn = document.getElementById("clear");
        const exportBtn = document.getElementById("export");
      
        const KEY = "predictions-arsenal-bayern";
        let predictions = JSON.parse(localStorage.getItem(KEY) || "[]");
      
        function save() {
          localStorage.setItem(KEY, JSON.stringify(predictions));
        }
      
        function render() {
          list.innerHTML = "";
          if (predictions.length === 0) {
      const empty = document.createElement("div");
      empty.textContent = "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙˆÙ‚Ø¹Ø§Øª Ø¨Ø¹Ø¯. ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠØªÙˆÙ‚Ø¹!";
      empty.style.color = "#9ca3af";
      list.appendChild(empty);
      return;
          }
          predictions.forEach((p, idx) => {
      const el = document.createElement("div");
      el.className = "item";
      el.innerHTML = `
        <div><strong>${escapeHtml(p.name)}</strong></div>
        <div class="badge score">Ù†ØªÙŠØ¬Ø©: ${escapeHtml(p.score)}</div>
        <div class="badge">${escapeHtml(p.winner)}</div>
        <div class="badge prob">Ø«Ù‚Ø©: ${p.confidence}%</div>
      `;
      el.title = `Ø£Ø¶ÙŠÙØª: ${new Date(p.at).toLocaleString()}`;
      el.addEventListener("click", () => {
        if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªÙˆÙ‚Ø¹ØŸ")) {
          predictions.splice(idx, 1);
          save(); render();
        }
      });
      list.appendChild(el);
          });
        }
      
        function escapeHtml(s) {
          return String(s)
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;");
        }
      
        form.addEventListener("submit", (e) => {
          e.preventDefault();
          const name = document.getElementById("name").value.trim();
          const winner = document.getElementById("winner").value;
          const arsenalScore = document.getElementById("arsenal-score").value;
          const bayernScore = document.getElementById("bayern-score").value;
          const score = `${arsenalScore}-${bayernScore}`;
          const confidence = Number(document.getElementById("confidence").value);
      
          if (confidence < 1 || confidence > 100) {
      alert("Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨ÙŠÙ† 1 Ùˆ 100.");
      return;
          }
      
          predictions.unshift({
      name, winner, score, confidence,
      at: Date.now()
          });
          save();
          render();
          form.reset();
          document.getElementById("confidence").value = 60;
        });
      
        // Ø²Ø± Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
        clearBtn.addEventListener("click", () => {
          if (predictions.length === 0) return;
          if (confirm("Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§ØªØŸ")) {
      predictions = [];
      save(); render();
          }
        });
      
        // Ø²Ø± ØªØµØ¯ÙŠØ± CSV
        exportBtn.addEventListener("click", () => {
          if (predictions.length === 0) {
      alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØµØ¯ÙŠØ±Ù‡Ø§.");
      return;
          }
          const rows = [["Ø§Ù„Ø§Ø³Ù…","Ø§Ù„ÙØ§Ø¦Ø²","Ø§Ù„Ù†ØªÙŠØ¬Ø©","Ø§Ù„Ø«Ù‚Ø©","Ø§Ù„ØªØ§Ø±ÙŠØ®"]];
          predictions.forEach(p => {
      rows.push([
        p.name, p.winner, p.score, String(p.confidence),
        new Date(p.at).toLocaleString()
      ]);
          });
          const csv = rows.map(r => r.map(cell => `"${String(cell).replace(/"/g,'""')}"`).join(",")).join("\n");
          const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "predictions-arsenal-bayern.csv";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });
      
        render();
      </script>
      </html>
